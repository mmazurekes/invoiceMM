<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://unicons.iconscout.com/release/v4.0.0/css/line.css">

    <title>Document</title>
</head>
<body>
   
    <div class="wrapper">
        <div class="content">
            <ul class="menu">
    
                <li class="item">
                    <i class="uil uil-eye"></i>
                    <span>Preview</span>
                </li>
    
                <li class="item share">
                    <div>
                        <i class="uil uil-share"></i>
                        <span>Share</span>
                    </div>
                    <i class="uil uil-angle-right"></i>
                    <ul class="share-menu">

                        <li class="item">
                            <i class="uil uil-twitter"></i>
                            <span>Twiter</span>
                        </li>
                        <li class="item">
                            <i class="uil uil-facebook"></i>
                            <span>Facebook</span>
                        </li>
                        <li class="item">
                            <i class="uil uil-whatsapp"></i>
                            <span>Whatsup</span>
                        </li>





                    </ul>
                </li>
    
    
    
                <li class="item">
                    <i class="uil uil-link"></i>
                    <span>Gent link</span>
                </li>
                <li class="item">
                    <i class="uil uil-eye"></i>
                    <span>Preview</span>
                </li>
                <li class="item">
                    <i class="uil uil-edit"></i>
                    <span>Rename</span>
                </li>
                <li class="item">
                    <i class="uil uil-trash-alt"></i>
                    <span>Delete</span>
                </li>
            </ul>
    
            <div class="setting">
                <li class="item">
                    <i class="uil uil-setting"></i>
                    <span>Settings</span>
                </li>
            </div>
    
        </div>
    </div>
    
    <script>
        
        const contextMenu = document.querySelector(".wrapper");
        shareMenu = contextMenu.querySelector(".share-menu");
        console.log("test");
        document.addEventListener("contextmenu", e => {
            e.preventDefault();
            let x = e.offsetX, y = e.offsetY;
            winWidth = window.innerWidth;
            winHeight = window.innerHeight;
            cmWidth = contextMenu.offsetWidth;
            cmHeight = contextMenu.offsetHeight;

            if( x > (winWidth - cmWidth - shareMenu.offsetWidth) ){
                shareMenu.style.left = "-200px";
            }else{
                shareMenu.style.left = "";
                shareMenu.style.right = "-200px";
            }

            x = x > winWidth - cmWidth ? winWidth - cmWidth : x;
            y = y > winHeight - cmHeight ? winHeight - cmHeight : y;
            
            contextMenu.style.left = `${x}px`;
            contextMenu.style.top = `${y}px`;
            
            contextMenu.style.visibility = "visible";
        });

        document.addEventListener("click", () => contextMenu.style.visibility = "hidden" );

    </script>

</body>
</html>